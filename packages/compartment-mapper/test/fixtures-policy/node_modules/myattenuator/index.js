const { freeze } = Object;
const attenuate = (params, originalObject, optionallyGlobalThis) => {
  if(params[0] === 'pleaseThrow') {
    throw Error('I attenuate, I throw.')
  }
  if(optionallyGlobalThis) {
    optionallyGlobalThis.attenuatorFlag = 1;
  }
  const ns = params.reduce((acc, k) => {
    acc[k] = originalObject[k];
    return acc;
  }, {});
  return freeze(ns);
};

export const attenuateGlobals = attenuate
export const attenuateModule = attenuate