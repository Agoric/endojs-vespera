const adaptToAssertions = (f) => {
  try {
    let result = f();
    result = result.replace(/\\/g,'/');
    result = result.replace(/^.*compartment-mapper\/test/,'/skipped');
    return result;
  } catch (e) {
    return e.message.split('\n')[0];
  }
}

const errorMessageDetails = (f) => {
  try {
    f();
  } catch (e) {
    return e.message.split('\n')[1];
  }
}

module.exports = [
  adaptToAssertions(()=>require.resolve(".")),
  adaptToAssertions(()=>require.resolve("./package.json")),
  adaptToAssertions(()=>require.resolve("./nested")),
  adaptToAssertions(()=>require.resolve("./nested/file.js")),
  adaptToAssertions(()=>require.resolve("./nested/file.js.map")),
  adaptToAssertions(()=>require.resolve("./nested/file.missing")),
  adaptToAssertions(()=>require.resolve("app")),
  adaptToAssertions(()=>require.resolve("fs")),
  adaptToAssertions(()=>require.resolve("nested-export/callBound")),
  errorMessageDetails(()=>require.resolve(".")),
]